<!doctype html>
<html>
  <title>npm-developers</title>
  <meta http-equiv="content-type" value="text/html;utf-8">
<style type="text/css">

/* reset */
* {
    margin:0;
    padding:0;
    border:none;
    font-family:inherit;
    font-size:inherit;
    font-weight:inherit;
}
:target::before {
  content:" >>> ";
  position:absolute;
  display:block;
  opacity:0.5;
  color:#f00;
  margin:0 0 0 -2em;
}
abbr, acronym {
  border-bottom:1px dotted #aaa;
}
kbd, code, pre {
  font-family:monospace;
    margin:0;
    font-size:18px;
    line-height:24px;
  background:#eee;
  outline:1px solid #ccc;
}
kbd code, kbd pre, kbd kbd,
pre code, pre pre, pre kbd,
code code, code pre, code kbd { outline: none }
.dollar::before {
  content:"$ ";
  display:inline;
}
p, ul, ol, dl, pre {
    margin:30px 0;
    line-height:30px;
}
hr {
    margin:30px auto 29px;
    width:66%;
    height:1px;
    background:#aaa;
}
pre {
    display:block;
}
dd :first-child {
    margin-top:0;
}

body {
    quotes:"“" "”" "‘" "’";
    width:666px;
    margin:30px auto 120px;
    font-family:Times New Roman, serif;
    font-size:20px;
    background:#fff;
    line-height:30px;
    color:#111;
}

blockquote {
    position:relative;
    font-size:16px;
    line-height:30px;
    font-weight:bold;
    width:85%;
    margin:0 auto;
}
blockquote::before {
    font-size:90px;
    display:block;
    position:absolute;
    top:20px;
    right:100%;
    content:"“";
    padding-right:10px;
    color:#ccc;
}
.source cite::before {
    content:"— ";
}
.source {
    padding-left:20%;
    margin-top:30px;
}
.source cite span {
    font-style:normal;
}
blockquote p {
    margin-bottom:0;
}
.quote blockquote {
    font-weight:normal;
}

h1, h2, h3, h4, h5, h6, dt, #header {
  font-family:serif;
  font-size:20px;
  font-weight:bold;
}
h2 {
  background:#eee;
}
h1, h2 {
  line-height:40px;
}

i, em, cite {
    font-style:italic;
}
b, strong { 
    font-weight:bold;
}
i, em, cite, b, strong, small {
    line-height:28px;
}
small, .small, .small *, aside {
    font-style:italic;
    color:#669;
    font-size:18px;
}
spall a, .small a {
    text-decoration:underline;
}
del {
    text-decoration:line-through;
}
ins {
    text-decoration:underline;
}
.alignright { display:block; float:right; margin-left:1em; }
.alignleft { display:block; float:left; margin-right:1em; }

q:before, q q q:before, q q q q q:before, q q q q q q q:before { content:"“"; }
q q:before, q q q q:before, q q q q q q:before, q q q q q q q q:before { content:"‘"; }
q:after, q q q:after, q q q q q:after, q q q q q q q:after { content:"”"; }
q q:after, q q q q:after, q q q q q q:after, q q q q q q q q:after { content:"’"; }

a { color:#00f; text-decoration:none; }
a:visited { color:#636; }
a:hover, a:active { color:#900!important; text-decoration:underline; }

h1 {
  font-weight:bold;
  background:#fff;
}
h1 a, h1 a:visited {
  font-family:GubbleBum, gubblefont, monospace;
  font-size:60px;
  color:#900;
  text-shadow:#00f 1px 1px 1px;
  display:block;
}

.navigation {
    display:table;
    width:100%;
    margin:0 0 30px 0;
    position:relative;
}
#nav-above {
    margin-bottom:0;
}
.navigation .nav-previous {
    display:table-cell;
    text-align:left;
    width:50%;
}
/* hang the » and « off into the margins */
.navigation .nav-previous a:before, .navigation .nav-next a:after {
    content: "«";
    display:block;
    height:30px;
    margin-bottom:-30px;
    text-decoration:none;
    margin-left:-15px;
}
.navigation .nav-next a:after {
    content: "»";
    text-align:right;
    margin-left:0;
    margin-top:-30px;
    margin-right:-15px;
}


.navigation .nav-next {
    display:table-cell;
    text-align:right;
    width:50%;
}
.navigation a {
    display:block;
    width:100%;
    height:100%;
}

input, button, textarea {
    border:0;
    line-height:30px;
}
textarea {
    height:300px;
}
input {
    height:30px;
    line-height:30px;
}
input.submit, input#submit, input.button, button, input[type=submit] {
    cursor:hand; cursor:pointer;
    outline:1px solid #ccc;
}

#wrapper {
    margin-bottom:90px;
    position:relative;
    z-index:1;
    *zoom:1;
    background:#fff;
}
#wrapper:after {
    display:block;
    content:".";
    visibility:hidden;
    width:0;
    height:0;
    clear:both;
}

.sidebar .xoxo > li {
    float:left;
    width:50%;
}
.sidebar li {
    list-style:none;
}
.sidebar #elsewhere {
    margin-left:-10%;
    margin-right:-10%;
}
.sidebar #rss-links, .sidebar #twitter-feeds {
    float:right;
    clear:right;
    width:20%;
}
.sidebar #comment {
  clear:both;
  float:none;
  width:100%;
}
.sidebar #search {
    clear:both;
    float:none;
    width:100%;
}
.sidebar #search h2 {
    margin-left:40%;
}
.sidebar #search #s {
    width:90%;
    float:left;
}
.sidebar #search #searchsubmit {
    width:10%;
    float:right;
}
.sidebar * {
    font-size:15px;
    line-height:30px;
}

#footer, #footer * {
    margin:300px 0 0;
    text-align:right;
    font-size:14px;
    line-height:90px;
}

#toc {
  position:absolute;
  top:0;
  right:0;
  padding:40px 0 40px 20px;
  margin:0;
  width:200px;
  opacity:0.2;
  z-index:-1;
}
#toc:hover {
  opacity:1;
  background:#fff;
  z-index:999;
}
#toc ul {
  padding:0;
  margin:0;
}
#toc, #toc li {
  list-style-type:none;
  font-size:15px;
  line-height:15px;
}
#toc li {
  padding:0 0 0 10px;
}
#toc li a {
  position:relative;
  display:block;
}

@font-face {
  font-family:gubblefont;
  src: url(http://static.izs.me/fonts/GubbleBum-Blocky.ttf) format("truetype");
}

@media print {
    a[href] {
        color:inherit;
    }
    a[href]:after {
        white-space:nowrap;
        content:" " attr(href);
    }
    a[href^=\#], .navigation {
        display:none;
    }
}
</style>

  <body>
    <div id="wrapper">
<h1><a href="developers.html">npm-developers</a></h1> <p>Developer Guide</p>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p>So, you've decided to use npm to develop (and maybe publish/deploy)
your project.</p>

<p>Fantastic!</p>

<p>There are a few things that you need to do above the simple steps
that your users will do to install your program.</p>

<h2 id="About-These-Documents">About These Documents</h2>

<p>These are man pages.  If you install npm, you should be able to
then do <code>man npm-thing</code> to get the documentation on a particular
topic.</p>

<p>Any time you see "see <a href="whatever.html">npm-whatever</a>", you can do <code>man npm-whatever</code>
or <code>npm help whatever</code> to get at the docs.</p>

<h2 id="What-is-a-package">What is a `package`</h2>

<p>A package is:</p>

<ul><li>a) a folder containing a program described by a package.json file</li><li>b) a gzipped tarball containing (a)</li><li>c) a url that resolves to (b)</li><li>d) a <code>&lt;name&gt;@&lt;version&gt;</code> that is published on the registry with (c)</li><li>e) a <code>&lt;name&gt;@&lt;tag&gt;</code> that points to (d)</li><li>f) a <code>&lt;name&gt;</code> that has a "latest" tag satisfying (e)</li></ul>

<p>Even if you never publish your package, you can still get a lot of
benefits of using npm if you just want to write a node program (a), and
perhaps if you also want to be able to easily install it elsewhere
after packing it up into a tarball (b).</p>

<h2 id="The-package-json-File">The package.json File</h2>

<p>You need to have a <code>package.json</code> file in the root of your project to do
much of anything with npm.  That is basically the whole interface.</p>

<p>See <a href="json.html">npm-json</a> for details about what goes in that file.  At the very
least, you need:</p>

<ul><li><p>name:
This should be a string that identifies your project.  Please do not
use the name to specify that it runs on node, or is in JavaScript.
You can use the "engines" field to explicitly state the versions of
node (or whatever else) that your program requires, and it's pretty
well assumed that it's javascript.</p><p>It does not necessarily need to match your github repository name.</p><p>So, <code>node-foo</code> and <code>bar-js</code> are bad names.  <code>foo</code> or <code>bar</code> are better.</p></li><li><p>version:
A semver-compatible version.</p></li><li><p>engines:
Specify the versions of node (or whatever else) that your program
runs on.  The node API changes a lot, and there may be bugs or new
functionality that you depend on.  Be explicit.</p></li><li><p>author:
Take some credit.</p></li><li><p>scripts:
If you have a special compilation or installation script, then you
should put it in the <code>scripts</code> hash.  You should definitely have at
least a basic smoke-test command as the "scripts.test" field.
See <a href="scripts.html">npm-scripts</a>.</p></li><li><p>main:
If you have a single module that serves as the entry point to your
program (like what the "foo" package gives you at require("foo")),
then you need to specify that in the "main" field.</p></li><li><p>directories:
This is a hash of folders.  The best ones to include are "lib" and
"doc", but if you specify a folder full of man pages in "man", then
they'll get installed just like these ones.</p></li></ul>

<p>You can use <code>npm init</code> in the root of your package in order to get you
started with a pretty basic package.json file.  See <code><a href="init.html">npm-init</a></code> for
more info.</p>

<h2 id="Keeping-files-out-of-your-package">Keeping files *out* of your package</h2>

<p>Use a <code>.npmignore</code> file to keep stuff out of your package.  If there's
no .npmignore file, but there <em>is</em> a .gitignore file, then npm will
ignore the stuff matched by the .gitignore file.  If you <em>want</em> to
include something that is excluded by your .gitignore file, you can
create an empty .npmignore file to override it.</p>

<h2 id="Link-Packages">Link Packages</h2>

<p><code>npm link</code> is designed to install a development package and see the
changes in real time without having to keep re-installing it.  (You do
need to either re-link or <code>npm rebuild -g</code> to update compiled packages,
of course.)</p>

<p>More info at <code><a href="link.html">npm-link</a></code>.</p>

<h2 id="Before-Publishing-Make-Sure-Your-Package-Installs-and-Works">Before Publishing: Make Sure Your Package Installs and Works</h2>

<p><strong>This is important.</strong></p>

<p>If you can not install it locally, you'll have
problems trying to publish it.  Or, worse yet, you'll be able to
publish it, but you'll be publishing a broken or pointless package.
So don't do that.</p>

<p>In the root of your package, do this:</p>

<pre><code>npm install . -g</code></pre>

<p>That'll show you that it's working.  If you'd rather just create a symlink
package that points to your working directory, then do this:</p>

<pre><code>npm link</code></pre>

<p>Use <code>npm ls -g</code> to see if it's there.</p>

<p>To test a local install, go into some other folder, and then do:</p>

<pre><code>cd ../some-other-folder
npm install ../my-package</code></pre>

<p>to install it locally into the node_modules folder in that other place.</p>

<p>Then go into the node-repl, and try using require("my-thing") to
bring in your module's main module.</p>

<h2 id="Create-a-User-Account">Create a User Account</h2>

<p>Create a user with the adduser command.  It works like this:</p>

<pre><code>npm adduser</code></pre>

<p>and then follow the prompts.</p>

<p>This is documented better in <a href="adduser.html">npm-adduser</a>.  So do this to get the
details:</p>

<pre><code>npm help adduser</code></pre>

<h2 id="Publish-your-package">Publish your package</h2>

<p>This part's easy.  IN the root of your folder, do this:</p>

<pre><code>npm publish</code></pre>

<p>You can give publish a url to a tarball, or a filename of a tarball,
or a path to a folder.</p>

<p>Note that pretty much <strong>everything in that folder will be exposed</strong>
by default.  So, if you have secret stuff in there, use a <code>.npminclude</code>
or <code>.npmignore</code> file to list out the globs to include/ignore, or publish
from a fresh checkout.</p>

<h2 id="Brag-about-it">Brag about it</h2>

<p>Send emails, write blogs, blab in IRC.</p>

<p>Tell the world how easy it is to install your program!</p>
</div>
<script>
els = Array.prototype.slice.call((wrapper = document.getElementById("wrapper"))
.getElementsByTagName("*"), 0)
.filter(function (el) {
  return el.parentNode === wrapper
      && el.tagName.match(/H[1-6]/)
      && el.id
})
var l = 2
;(toc = document.createElement("ul")).innerHTML = els.map(function (el) {
  var i = el.tagName.charAt(1)
    , out = ""
  while (i > l) {
    out += "<ul>"
    l ++
  }
  while (i < l) {
    out += "</ul>"
    l --
  }
  out += "<li><a href='#" + el.id + "'>" + el.innerHTML + "</a>"
  return out
}).join("\n")
toc.id = "toc"
document.body.appendChild(toc)

</script>
</body></html>
<!-- npm help developers - 2011-32-04 07:09:23 -->
