var cov_i7vu9s260=function(){var path='/Users/zkat/Documents/code/npm/lib/utils/lifecycle.js',hash='72b41f7c5639d6474cd0b88766a82da4855e831d',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/zkat/Documents/code/npm/lib/utils/lifecycle.js',statementMap:{'0':{start:{line:1,column:0},end:{line:1,column:36}},'1':{start:{line:2,column:0},end:{line:2,column:17}},'2':{start:{line:3,column:0},end:{line:3,column:25}},'3':{start:{line:4,column:0},end:{line:4,column:63}},'4':{start:{line:6,column:10},end:{line:6,column:27}},'5':{start:{line:7,column:12},end:{line:7,column:30}},'6':{start:{line:8,column:10},end:{line:8,column:30}},'7':{start:{line:9,column:11},end:{line:9,column:26}},'8':{start:{line:10,column:9},end:{line:10,column:31}},'9':{start:{line:11,column:12},end:{line:11,column:34}},'10':{start:{line:12,column:13},end:{line:12,column:37}},'11':{start:{line:13,column:11},end:{line:13,column:17}},'12':{start:{line:14,column:16},end:{line:14,column:37}},'13':{start:{line:15,column:12},end:{line:15,column:30}},'14':{start:{line:16,column:12},end:{line:16,column:30}},'15':{start:{line:17,column:13},end:{line:17,column:35}},'16':{start:{line:18,column:12},end:{line:18,column:28}},'17':{start:{line:21,column:0},end:{line:28,column:1}},'18':{start:{line:22,column:2},end:{line:22,column:15}},'19':{start:{line:23,column:2},end:{line:27,column:4}},'20':{start:{line:24,column:4},end:{line:26,column:5}},'21':{start:{line:25,column:6},end:{line:25,column:14}},'22':{start:{line:31,column:2},end:{line:31,column:36}},'23':{start:{line:35,column:2},end:{line:38,column:3}},'24':{start:{line:36,column:4},end:{line:36,column:15}},'25':{start:{line:37,column:4},end:{line:37,column:18}},'26':{start:{line:39,column:2},end:{line:42,column:3}},'27':{start:{line:40,column:4},end:{line:40,column:15}},'28':{start:{line:41,column:4},end:{line:41,column:18}},'29':{start:{line:43,column:2},end:{line:46,column:3}},'30':{start:{line:44,column:4},end:{line:44,column:11}},'31':{start:{line:45,column:4},end:{line:45,column:13}},'32':{start:{line:48,column:2},end:{line:48,column:42}},'33':{start:{line:48,column:27},end:{line:48,column:42}},'34':{start:{line:49,column:2},end:{line:49,column:56}},'35':{start:{line:49,column:12},end:{line:49,column:56}},'36':{start:{line:51,column:2},end:{line:51,column:51}},'37':{start:{line:52,column:2},end:{line:52,column:36}},'38':{start:{line:52,column:20},end:{line:52,column:36}},'39':{start:{line:54,column:2},end:{line:57,column:3}},'40':{start:{line:55,column:4},end:{line:55,column:102}},'41':{start:{line:56,column:4},end:{line:56,column:20}},'42':{start:{line:58,column:2},end:{line:61,column:3}},'43':{start:{line:59,column:4},end:{line:59,column:105}},'44':{start:{line:60,column:4},end:{line:60,column:33}},'45':{start:{line:63,column:2},end:{line:87,column:4}},'46':{start:{line:64,column:4},end:{line:64,column:25}},'47':{start:{line:64,column:12},end:{line:64,column:25}},'48':{start:{line:66,column:4},end:{line:66,column:52}},'49':{start:{line:68,column:4},end:{line:74,column:5}},'50':{start:{line:70,column:6},end:{line:72,column:7}},'51':{start:{line:73,column:6},end:{line:73,column:17}},'52':{start:{line:77,column:14},end:{line:77,column:26}},'53':{start:{line:78,column:4},end:{line:78,column:35}},'54':{start:{line:79,column:4},end:{line:79,column:67}},'55':{start:{line:80,column:4},end:{line:80,column:44}},'56':{start:{line:84,column:4},end:{line:84,column:55}},'57':{start:{line:84,column:40},end:{line:84,column:55}},'58':{start:{line:86,column:4},end:{line:86,column:55}},'59':{start:{line:91,column:2},end:{line:91,column:65}},'60':{start:{line:95,column:16},end:{line:95,column:18}},'61':{start:{line:96,column:10},end:{line:96,column:46}},'62':{start:{line:97,column:12},end:{line:97,column:35}},'63':{start:{line:99,column:2},end:{line:102,column:4}},'64':{start:{line:100,column:4},end:{line:100,column:59}},'65':{start:{line:101,column:4},end:{line:101,column:44}},'66':{start:{line:103,column:2},end:{line:103,column:57}},'67':{start:{line:107,column:2},end:{line:107,column:74}},'68':{start:{line:109,column:2},end:{line:112,column:3}},'69':{start:{line:111,column:4},end:{line:111,column:48}},'70':{start:{line:114,column:2},end:{line:114,column:40}},'71':{start:{line:114,column:17},end:{line:114,column:40}},'72':{start:{line:115,column:2},end:{line:115,column:68}},'73':{start:{line:117,column:25},end:{line:117,column:73}},'74':{start:{line:119,column:2},end:{line:124,column:3}},'75':{start:{line:121,column:4},end:{line:121,column:49}},'76':{start:{line:123,column:4},end:{line:123,column:88}},'77':{start:{line:127,column:4},end:{line:135,column:5}},'78':{start:{line:128,column:6},end:{line:134,column:7}},'79':{start:{line:129,column:8},end:{line:129,column:74}},'80':{start:{line:130,column:8},end:{line:130,column:17}},'81':{start:{line:131,column:13},end:{line:134,column:7}},'82':{start:{line:132,column:8},end:{line:132,column:81}},'83':{start:{line:133,column:8},end:{line:133,column:17}},'84':{start:{line:136,column:4},end:{line:136,column:10}},'85':{start:{line:139,column:2},end:{line:145,column:3}},'86':{start:{line:149,column:19},end:{line:149,column:62}},'87':{start:{line:150,column:2},end:{line:150,column:40}},'88':{start:{line:150,column:28},end:{line:150,column:40}},'89':{start:{line:151,column:2},end:{line:151,column:38}},'90':{start:{line:151,column:27},end:{line:151,column:38}},'91':{start:{line:155,column:18},end:{line:155,column:46}},'92':{start:{line:157,column:2},end:{line:164,column:3}},'93':{start:{line:158,column:4},end:{line:158,column:97}},'94':{start:{line:160,column:4},end:{line:161,column:52}},'95':{start:{line:163,column:4},end:{line:163,column:32}},'96':{start:{line:166,column:2},end:{line:177,column:3}},'97':{start:{line:167,column:4},end:{line:174,column:5}},'98':{start:{line:168,column:6},end:{line:172,column:7}},'99':{start:{line:169,column:8},end:{line:169,column:240}},'100':{start:{line:171,column:8},end:{line:171,column:223}},'101':{start:{line:173,column:6},end:{line:173,column:56}},'102':{start:{line:176,column:4},end:{line:176,column:16}},'103':{start:{line:179,column:2},end:{line:179,column:30}},'104':{start:{line:183,column:2},end:{line:192,column:4}},'105':{start:{line:184,column:4},end:{line:190,column:5}},'106':{start:{line:185,column:14},end:{line:185,column:29}},'107':{start:{line:186,column:6},end:{line:188,column:7}},'108':{start:{line:187,column:8},end:{line:187,column:58}},'109':{start:{line:189,column:6},end:{line:189,column:27}},'110':{start:{line:191,column:4},end:{line:191,column:22}},'111':{start:{line:197,column:14},end:{line:197,column:37}},'112':{start:{line:198,column:12},end:{line:198,column:36}},'113':{start:{line:200,column:13},end:{line:201,column:32}},'114':{start:{line:202,column:2},end:{line:202,column:52}},'115':{start:{line:205,column:14},end:{line:205,column:19}},'116':{start:{line:206,column:12},end:{line:206,column:14}},'117':{start:{line:208,column:2},end:{line:208,column:17}},'118':{start:{line:209,column:2},end:{line:212,column:3}},'119':{start:{line:210,column:12},end:{line:210,column:25}},'120':{start:{line:211,column:4},end:{line:211,column:25}},'121':{start:{line:216,column:2},end:{line:219,column:3}},'122':{start:{line:217,column:4},end:{line:217,column:60}},'123':{start:{line:218,column:4},end:{line:218,column:10}},'124':{start:{line:221,column:2},end:{line:221,column:16}},'125':{start:{line:222,column:2},end:{line:222,column:13}},'126':{start:{line:223,column:13},end:{line:223,column:51}},'127':{start:{line:224,column:14},end:{line:224,column:53}},'128':{start:{line:226,column:2},end:{line:228,column:3}},'129':{start:{line:227,column:4},end:{line:227,column:16}},'130':{start:{line:229,column:2},end:{line:229,column:81}},'131':{start:{line:231,column:2},end:{line:233,column:3}},'132':{start:{line:232,column:4},end:{line:232,column:17}},'133':{start:{line:235,column:2},end:{line:241,column:3}},'134':{start:{line:236,column:4},end:{line:236,column:55}},'135':{start:{line:238,column:4},end:{line:240,column:6}},'136':{start:{line:239,column:6},end:{line:239,column:61}},'137':{start:{line:246,column:4},end:{line:246,column:30}},'138':{start:{line:247,column:4},end:{line:247,column:16}},'139':{start:{line:248,column:4},end:{line:248,column:29}},'140':{start:{line:251,column:13},end:{line:255,column:3}},'141':{start:{line:257,column:2},end:{line:260,column:3}},'142':{start:{line:258,column:4},end:{line:258,column:22}},'143':{start:{line:259,column:4},end:{line:259,column:22}},'144':{start:{line:262,column:11},end:{line:262,column:15}},'145':{start:{line:263,column:15},end:{line:263,column:19}},'146':{start:{line:265,column:2},end:{line:269,column:3}},'147':{start:{line:266,column:4},end:{line:266,column:37}},'148':{start:{line:267,column:4},end:{line:267,column:23}},'149':{start:{line:268,column:4},end:{line:268,column:40}},'150':{start:{line:271,column:2},end:{line:271,column:65}},'151':{start:{line:272,column:2},end:{line:272,column:57}},'152':{start:{line:273,column:2},end:{line:273,column:67}},'153':{start:{line:275,column:13},end:{line:275,column:43}},'154':{start:{line:277,column:2},end:{line:277,column:29}},'155':{start:{line:278,column:2},end:{line:287,column:4}},'156':{start:{line:279,column:4},end:{line:279,column:90}},'157':{start:{line:280,column:4},end:{line:285,column:5}},'158':{start:{line:281,column:6},end:{line:281,column:39}},'159':{start:{line:282,column:11},end:{line:285,column:5}},'160':{start:{line:283,column:15},end:{line:283,column:47}},'161':{start:{line:284,column:6},end:{line:284,column:21}},'162':{start:{line:286,column:4},end:{line:286,column:17}},'163':{start:{line:288,column:2},end:{line:288,column:35}},'164':{start:{line:289,column:2},end:{line:289,column:38}},'165':{start:{line:292,column:4},end:{line:308,column:5}},'166':{start:{line:293,column:6},end:{line:293,column:85}},'167':{start:{line:294,column:6},end:{line:295,column:29}},'168':{start:{line:296,column:6},end:{line:298,column:7}},'169':{start:{line:297,column:8},end:{line:297,column:30}},'170':{start:{line:299,column:6},end:{line:303,column:8}},'171':{start:{line:300,column:8},end:{line:302,column:9}},'172':{start:{line:301,column:10},end:{line:301,column:103}},'173':{start:{line:304,column:6},end:{line:304,column:24}},'174':{start:{line:305,column:6},end:{line:305,column:22}},'175':{start:{line:306,column:6},end:{line:306,column:21}},'176':{start:{line:307,column:6},end:{line:307,column:27}},'177':{start:{line:309,column:4},end:{line:309,column:47}},'178':{start:{line:310,column:4},end:{line:310,column:51}},'179':{start:{line:311,column:4},end:{line:311,column:46}},'180':{start:{line:312,column:4},end:{line:312,column:17}},'181':{start:{line:315,column:4},end:{line:315,column:15}},'182':{start:{line:318,column:4},end:{line:318,column:23}},'183':{start:{line:319,column:4},end:{line:321,column:6}},'184':{start:{line:320,column:6},end:{line:320,column:20}},'185':{start:{line:322,column:4},end:{line:322,column:36}},'186':{start:{line:328,column:14},end:{line:328,column:37}},'187':{start:{line:329,column:13},end:{line:329,column:48}},'188':{start:{line:330,column:12},end:{line:330,column:16}},'189':{start:{line:332,column:2},end:{line:337,column:4}},'190':{start:{line:333,column:4},end:{line:333,column:23}},'191':{start:{line:333,column:12},end:{line:333,column:23}},'192':{start:{line:334,column:15},end:{line:335,column:27}},'193':{start:{line:336,column:4},end:{line:336,column:55}},'194':{start:{line:341,column:2},end:{line:341,column:35}},'195':{start:{line:342,column:2},end:{line:359,column:3}},'196':{start:{line:343,column:4},end:{line:343,column:12}},'197':{start:{line:344,column:4},end:{line:348,column:5}},'198':{start:{line:345,column:6},end:{line:347,column:7}},'199':{start:{line:346,column:8},end:{line:346,column:31}},'200':{start:{line:351,column:4},end:{line:351,column:65}},'201':{start:{line:351,column:38},end:{line:351,column:65}},'202':{start:{line:352,column:9},end:{line:359,column:3}},'203':{start:{line:353,column:4},end:{line:358,column:5}},'204':{start:{line:361,column:2},end:{line:389,column:3}},'205':{start:{line:362,column:4},end:{line:388,column:5}},'206':{start:{line:363,column:19},end:{line:363,column:62}},'207':{start:{line:364,column:6},end:{line:366,column:7}},'208':{start:{line:365,column:8},end:{line:365,column:16}},'209':{start:{line:367,column:6},end:{line:387,column:7}},'210':{start:{line:368,column:8},end:{line:381,column:9}},'211':{start:{line:370,column:10},end:{line:370,column:33}},'212':{start:{line:371,column:10},end:{line:371,column:45}},'213':{start:{line:375,column:18},end:{line:375,column:25}},'214':{start:{line:376,column:10},end:{line:380,column:11}},'215':{start:{line:383,column:8},end:{line:383,column:37}},'216':{start:{line:384,column:8},end:{line:386,column:37}},'217':{start:{line:391,column:2},end:{line:391,column:43}},'218':{start:{line:391,column:33},end:{line:391,column:43}},'219':{start:{line:393,column:2},end:{line:393,column:24}},'220':{start:{line:394,column:18},end:{line:394,column:20}},'221':{start:{line:395,column:13},end:{line:395,column:28}},'222':{start:{line:396,column:21},end:{line:396,column:23}},'223':{start:{line:397,column:17},end:{line:397,column:32}},'224':{start:{line:398,column:16},end:{line:398,column:52}},'225':{start:{line:400,column:2},end:{line:427,column:4}},'226':{start:{line:403,column:4},end:{line:405,column:5}},'227':{start:{line:404,column:6},end:{line:404,column:12}},'228':{start:{line:406,column:16},end:{line:406,column:33}},'229':{start:{line:407,column:4},end:{line:407,column:63}},'230':{start:{line:407,column:57},end:{line:407,column:63}},'231':{start:{line:408,column:4},end:{line:408,column:55}},'232':{start:{line:408,column:26},end:{line:408,column:55}},'233':{start:{line:409,column:4},end:{line:411,column:69}},'234':{start:{line:409,column:16},end:{line:409,column:26}},'235':{start:{line:410,column:9},end:{line:411,column:69}},'236':{start:{line:410,column:40},end:{line:410,column:58}},'237':{start:{line:411,column:9},end:{line:411,column:69}},'238':{start:{line:411,column:40},end:{line:411,column:69}},'239':{start:{line:413,column:4},end:{line:415,column:17}},'240':{start:{line:416,column:4},end:{line:416,column:28}},'241':{start:{line:418,column:4},end:{line:424,column:5}},'242':{start:{line:419,column:6},end:{line:419,column:66}},'243':{start:{line:420,column:6},end:{line:420,column:26}},'244':{start:{line:421,column:11},end:{line:424,column:5}},'245':{start:{line:422,column:6},end:{line:422,column:65}},'246':{start:{line:423,column:6},end:{line:423,column:29}},'247':{start:{line:425,column:17},end:{line:425,column:60}},'248':{start:{line:426,column:4},end:{line:426,column:23}},'249':{start:{line:429,column:2},end:{line:430,column:3}},'250':{start:{line:430,column:3},end:{line:435,column:4}},'251':{start:{line:431,column:4},end:{line:434,column:5}},'252':{start:{line:432,column:20},end:{line:432,column:30}},'253':{start:{line:433,column:6},end:{line:433,column:27}},'254':{start:{line:437,column:2},end:{line:437,column:12}},'255':{start:{line:442,column:4},end:{line:442,column:56}},'256':{start:{line:444,column:2},end:{line:444,column:59}},'257':{start:{line:445,column:25},end:{line:445,column:69}},'258':{start:{line:446,column:2},end:{line:450,column:3}},'259':{start:{line:447,column:4},end:{line:449,column:10}},'260':{start:{line:448,column:6},end:{line:448,column:42}},'261':{start:{line:451,column:2},end:{line:451,column:12}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:48},end:{line:27,column:3}},line:23},'1':{name:'logid',decl:{start:{line:30,column:9},end:{line:30,column:14}},loc:{start:{line:30,column:28},end:{line:32,column:1}},line:30},'2':{name:'lifecycle',decl:{start:{line:34,column:9},end:{line:34,column:18}},loc:{start:{line:34,column:56},end:{line:88,column:1}},line:34},'3':{name:'(anonymous_3)',decl:{start:{line:63,column:49},end:{line:63,column:50}},loc:{start:{line:63,column:67},end:{line:87,column:3}},line:63},'4':{name:'_incorrectWorkingDirectory',decl:{start:{line:90,column:9},end:{line:90,column:35}},loc:{start:{line:90,column:46},end:{line:92,column:1}},line:90},'5':{name:'lifecycle_',decl:{start:{line:94,column:9},end:{line:94,column:19}},loc:{start:{line:94,column:62},end:{line:146,column:1}},line:94},'6':{name:'(anonymous_6)',decl:{start:{line:99,column:12},end:{line:99,column:13}},loc:{start:{line:99,column:26},end:{line:102,column:3}},line:99},'7':{name:'done',decl:{start:{line:126,column:11},end:{line:126,column:15}},loc:{start:{line:126,column:21},end:{line:137,column:3}},line:126},'8':{name:'shouldPrependCurrentNodeDirToPATH',decl:{start:{line:148,column:9},end:{line:148,column:42}},loc:{start:{line:148,column:46},end:{line:180,column:1}},line:148},'9':{name:'validWd',decl:{start:{line:182,column:9},end:{line:182,column:16}},loc:{start:{line:182,column:25},end:{line:193,column:1}},line:182},'10':{name:'(anonymous_10)',decl:{start:{line:183,column:13},end:{line:183,column:14}},loc:{start:{line:183,column:31},end:{line:192,column:3}},line:183},'11':{name:'runPackageLifecycle',decl:{start:{line:195,column:9},end:{line:195,column:28}},loc:{start:{line:195,column:56},end:{line:203,column:1}},line:195},'12':{name:'dequeue',decl:{start:{line:207,column:9},end:{line:207,column:16}},loc:{start:{line:207,column:20},end:{line:213,column:1}},line:207},'13':{name:'runCmd',decl:{start:{line:215,column:9},end:{line:215,column:15}},loc:{start:{line:215,column:61},end:{line:242,column:1}},line:215},'14':{name:'(anonymous_14)',decl:{start:{line:238,column:27},end:{line:238,column:28}},loc:{start:{line:238,column:51},end:{line:240,column:5}},line:238},'15':{name:'runCmd_',decl:{start:{line:244,column:9},end:{line:244,column:16}},loc:{start:{line:244,column:67},end:{line:324,column:1}},line:244},'16':{name:'cb',decl:{start:{line:245,column:11},end:{line:245,column:13}},loc:{start:{line:245,column:19},end:{line:249,column:3}},line:245},'17':{name:'(anonymous_17)',decl:{start:{line:278,column:19},end:{line:278,column:20}},loc:{start:{line:278,column:43},end:{line:287,column:3}},line:278},'18':{name:'procError',decl:{start:{line:291,column:11},end:{line:291,column:20}},loc:{start:{line:291,column:26},end:{line:313,column:3}},line:291},'19':{name:'(anonymous_19)',decl:{start:{line:299,column:23},end:{line:299,column:24}},loc:{start:{line:299,column:47},end:{line:303,column:7}},line:299},'20':{name:'procKill',decl:{start:{line:314,column:11},end:{line:314,column:19}},loc:{start:{line:314,column:23},end:{line:316,column:3}},line:314},'21':{name:'procInterupt',decl:{start:{line:317,column:11},end:{line:317,column:23}},loc:{start:{line:317,column:27},end:{line:323,column:3}},line:317},'22':{name:'(anonymous_22)',decl:{start:{line:319,column:20},end:{line:319,column:21}},loc:{start:{line:319,column:32},end:{line:321,column:5}},line:319},'23':{name:'runHookLifecycle',decl:{start:{line:326,column:9},end:{line:326,column:25}},loc:{start:{line:326,column:53},end:{line:338,column:1}},line:326},'24':{name:'(anonymous_24)',decl:{start:{line:332,column:16},end:{line:332,column:17}},loc:{start:{line:332,column:30},end:{line:337,column:3}},line:332},'25':{name:'makeEnv',decl:{start:{line:340,column:9},end:{line:340,column:16}},loc:{start:{line:340,column:37},end:{line:438,column:1}},line:340},'26':{name:'(anonymous_26)',decl:{start:{line:400,column:15},end:{line:400,column:16}},loc:{start:{line:400,column:28},end:{line:427,column:3}},line:400},'27':{name:'(anonymous_27)',decl:{start:{line:430,column:37},end:{line:430,column:38}},loc:{start:{line:430,column:53},end:{line:435,column:3}},line:430},'28':{name:'cmd',decl:{start:{line:440,column:9},end:{line:440,column:12}},loc:{start:{line:440,column:21},end:{line:452,column:1}},line:440},'29':{name:'CMD',decl:{start:{line:441,column:11},end:{line:441,column:14}},loc:{start:{line:441,column:26},end:{line:443,column:3}},line:441},'30':{name:'(anonymous_30)',decl:{start:{line:446,column:19},end:{line:446,column:20}},loc:{start:{line:446,column:39},end:{line:450,column:3}},line:446},'31':{name:'(anonymous_31)',decl:{start:{line:447,column:27},end:{line:447,column:28}},loc:{start:{line:447,column:40},end:{line:449,column:5}},line:447}},branchMap:{'0':{loc:{start:{line:21,column:0},end:{line:28,column:1}},type:'if',locations:[{start:{line:21,column:0},end:{line:28,column:1}},{start:{line:21,column:0},end:{line:28,column:1}}],line:21},'1':{loc:{start:{line:24,column:4},end:{line:26,column:5}},type:'if',locations:[{start:{line:24,column:4},end:{line:26,column:5}},{start:{line:24,column:4},end:{line:26,column:5}}],line:24},'2':{loc:{start:{line:35,column:2},end:{line:38,column:3}},type:'if',locations:[{start:{line:35,column:2},end:{line:38,column:3}},{start:{line:35,column:2},end:{line:38,column:3}}],line:35},'3':{loc:{start:{line:39,column:2},end:{line:42,column:3}},type:'if',locations:[{start:{line:39,column:2},end:{line:42,column:3}},{start:{line:39,column:2},end:{line:42,column:3}}],line:39},'4':{loc:{start:{line:43,column:2},end:{line:46,column:3}},type:'if',locations:[{start:{line:43,column:2},end:{line:46,column:3}},{start:{line:43,column:2},end:{line:46,column:3}}],line:43},'5':{loc:{start:{line:48,column:9},end:{line:48,column:25}},type:'binary-expr',locations:[{start:{line:48,column:9},end:{line:48,column:12}},{start:{line:48,column:16},end:{line:48,column:25}}],line:48},'6':{loc:{start:{line:49,column:2},end:{line:49,column:56}},type:'if',locations:[{start:{line:49,column:2},end:{line:49,column:56}},{start:{line:49,column:2},end:{line:49,column:56}}],line:49},'7':{loc:{start:{line:52,column:2},end:{line:52,column:36}},type:'if',locations:[{start:{line:52,column:2},end:{line:52,column:36}},{start:{line:52,column:2},end:{line:52,column:36}}],line:52},'8':{loc:{start:{line:54,column:2},end:{line:57,column:3}},type:'if',locations:[{start:{line:54,column:2},end:{line:57,column:3}},{start:{line:54,column:2},end:{line:57,column:3}}],line:54},'9':{loc:{start:{line:58,column:2},end:{line:61,column:3}},type:'if',locations:[{start:{line:58,column:2},end:{line:61,column:3}},{start:{line:58,column:2},end:{line:61,column:3}}],line:58},'10':{loc:{start:{line:58,column:6},end:{line:58,column:67}},type:'binary-expr',locations:[{start:{line:58,column:6},end:{line:58,column:28}},{start:{line:58,column:32},end:{line:58,column:67}}],line:58},'11':{loc:{start:{line:63,column:10},end:{line:63,column:47}},type:'binary-expr',locations:[{start:{line:63,column:10},end:{line:63,column:12}},{start:{line:63,column:16},end:{line:63,column:47}}],line:63},'12':{loc:{start:{line:64,column:4},end:{line:64,column:25}},type:'if',locations:[{start:{line:64,column:4},end:{line:64,column:25}},{start:{line:64,column:4},end:{line:64,column:25}}],line:64},'13':{loc:{start:{line:66,column:13},end:{line:66,column:52}},type:'binary-expr',locations:[{start:{line:66,column:13},end:{line:66,column:19}},{start:{line:66,column:23},end:{line:66,column:52}}],line:66},'14':{loc:{start:{line:68,column:4},end:{line:74,column:5}},type:'if',locations:[{start:{line:68,column:4},end:{line:74,column:5}},{start:{line:68,column:4},end:{line:74,column:5}}],line:68},'15':{loc:{start:{line:68,column:8},end:{line:69,column:37}},type:'binary-expr',locations:[{start:{line:68,column:9},end:{line:68,column:34}},{start:{line:68,column:38},end:{line:68,column:73}},{start:{line:69,column:8},end:{line:69,column:15}},{start:{line:69,column:19},end:{line:69,column:37}}],line:68},'16':{loc:{start:{line:79,column:39},end:{line:79,column:67}},type:'binary-expr',locations:[{start:{line:79,column:39},end:{line:79,column:47}},{start:{line:79,column:51},end:{line:79,column:67}}],line:79},'17':{loc:{start:{line:84,column:4},end:{line:84,column:55}},type:'if',locations:[{start:{line:84,column:4},end:{line:84,column:55}},{start:{line:84,column:4},end:{line:84,column:55}}],line:84},'18':{loc:{start:{line:109,column:2},end:{line:112,column:3}},type:'if',locations:[{start:{line:109,column:2},end:{line:112,column:3}},{start:{line:109,column:2},end:{line:112,column:3}}],line:109},'19':{loc:{start:{line:114,column:2},end:{line:114,column:40}},type:'if',locations:[{start:{line:114,column:2},end:{line:114,column:40}},{start:{line:114,column:2},end:{line:114,column:40}}],line:114},'20':{loc:{start:{line:115,column:27},end:{line:115,column:67}},type:'cond-expr',locations:[{start:{line:115,column:58},end:{line:115,column:61}},{start:{line:115,column:64},end:{line:115,column:67}}],line:115},'21':{loc:{start:{line:117,column:25},end:{line:117,column:73}},type:'binary-expr',locations:[{start:{line:117,column:25},end:{line:117,column:36}},{start:{line:117,column:40},end:{line:117,column:73}}],line:117},'22':{loc:{start:{line:119,column:2},end:{line:124,column:3}},type:'if',locations:[{start:{line:119,column:2},end:{line:124,column:3}},{start:{line:119,column:2},end:{line:124,column:3}}],line:119},'23':{loc:{start:{line:127,column:4},end:{line:135,column:5}},type:'if',locations:[{start:{line:127,column:4},end:{line:135,column:5}},{start:{line:127,column:4},end:{line:135,column:5}}],line:127},'24':{loc:{start:{line:128,column:6},end:{line:134,column:7}},type:'if',locations:[{start:{line:128,column:6},end:{line:134,column:7}},{start:{line:128,column:6},end:{line:134,column:7}}],line:128},'25':{loc:{start:{line:131,column:13},end:{line:134,column:7}},type:'if',locations:[{start:{line:131,column:13},end:{line:134,column:7}},{start:{line:131,column:13},end:{line:134,column:7}}],line:131},'26':{loc:{start:{line:141,column:6},end:{line:141,column:69}},type:'binary-expr',locations:[{start:{line:141,column:6},end:{line:141,column:22}},{start:{line:141,column:26},end:{line:141,column:69}}],line:141},'27':{loc:{start:{line:150,column:2},end:{line:150,column:40}},type:'if',locations:[{start:{line:150,column:2},end:{line:150,column:40}},{start:{line:150,column:2},end:{line:150,column:40}}],line:150},'28':{loc:{start:{line:151,column:2},end:{line:151,column:38}},type:'if',locations:[{start:{line:151,column:2},end:{line:151,column:38}},{start:{line:151,column:2},end:{line:151,column:38}}],line:151},'29':{loc:{start:{line:158,column:74},end:{line:158,column:95}},type:'cond-expr',locations:[{start:{line:158,column:86},end:{line:158,column:89}},{start:{line:158,column:92},end:{line:158,column:95}}],line:158},'30':{loc:{start:{line:166,column:2},end:{line:177,column:3}},type:'if',locations:[{start:{line:166,column:2},end:{line:177,column:3}},{start:{line:166,column:2},end:{line:177,column:3}}],line:166},'31':{loc:{start:{line:167,column:4},end:{line:174,column:5}},type:'if',locations:[{start:{line:167,column:4},end:{line:174,column:5}},{start:{line:167,column:4},end:{line:174,column:5}}],line:167},'32':{loc:{start:{line:167,column:8},end:{line:167,column:77}},type:'binary-expr',locations:[{start:{line:167,column:8},end:{line:167,column:29}},{start:{line:167,column:33},end:{line:167,column:77}}],line:167},'33':{loc:{start:{line:168,column:6},end:{line:172,column:7}},type:'if',locations:[{start:{line:168,column:6},end:{line:172,column:7}},{start:{line:168,column:6},end:{line:172,column:7}}],line:168},'34':{loc:{start:{line:184,column:4},end:{line:190,column:5}},type:'if',locations:[{start:{line:184,column:4},end:{line:190,column:5}},{start:{line:184,column:4},end:{line:190,column:5}}],line:184},'35':{loc:{start:{line:184,column:8},end:{line:184,column:31}},type:'binary-expr',locations:[{start:{line:184,column:8},end:{line:184,column:10}},{start:{line:184,column:14},end:{line:184,column:31}}],line:184},'36':{loc:{start:{line:186,column:6},end:{line:188,column:7}},type:'if',locations:[{start:{line:186,column:6},end:{line:188,column:7}},{start:{line:186,column:6},end:{line:188,column:7}}],line:186},'37':{loc:{start:{line:209,column:2},end:{line:212,column:3}},type:'if',locations:[{start:{line:209,column:2},end:{line:212,column:3}},{start:{line:209,column:2},end:{line:212,column:3}}],line:209},'38':{loc:{start:{line:216,column:2},end:{line:219,column:3}},type:'if',locations:[{start:{line:216,column:2},end:{line:219,column:3}},{start:{line:216,column:2},end:{line:219,column:3}}],line:216},'39':{loc:{start:{line:223,column:13},end:{line:223,column:51}},type:'cond-expr',locations:[{start:{line:223,column:22},end:{line:223,column:26}},{start:{line:223,column:29},end:{line:223,column:51}}],line:223},'40':{loc:{start:{line:224,column:14},end:{line:224,column:53}},type:'cond-expr',locations:[{start:{line:224,column:23},end:{line:224,column:27}},{start:{line:224,column:30},end:{line:224,column:53}}],line:224},'41':{loc:{start:{line:226,column:2},end:{line:228,column:3}},type:'if',locations:[{start:{line:226,column:2},end:{line:228,column:3}},{start:{line:226,column:2},end:{line:228,column:3}}],line:226},'42':{loc:{start:{line:231,column:2},end:{line:233,column:3}},type:'if',locations:[{start:{line:231,column:2},end:{line:233,column:3}},{start:{line:231,column:2},end:{line:233,column:3}}],line:231},'43':{loc:{start:{line:235,column:2},end:{line:241,column:3}},type:'if',locations:[{start:{line:235,column:2},end:{line:241,column:3}},{start:{line:235,column:2},end:{line:241,column:3}}],line:235},'44':{loc:{start:{line:257,column:2},end:{line:260,column:3}},type:'if',locations:[{start:{line:257,column:2},end:{line:260,column:3}},{start:{line:257,column:2},end:{line:260,column:3}}],line:257},'45':{loc:{start:{line:265,column:2},end:{line:269,column:3}},type:'if',locations:[{start:{line:265,column:2},end:{line:269,column:3}},{start:{line:265,column:2},end:{line:269,column:3}}],line:265},'46':{loc:{start:{line:266,column:9},end:{line:266,column:37}},type:'binary-expr',locations:[{start:{line:266,column:9},end:{line:266,column:28}},{start:{line:266,column:32},end:{line:266,column:37}}],line:266},'47':{loc:{start:{line:280,column:4},end:{line:285,column:5}},type:'if',locations:[{start:{line:280,column:4},end:{line:285,column:5}},{start:{line:280,column:4},end:{line:285,column:5}}],line:280},'48':{loc:{start:{line:282,column:11},end:{line:285,column:5}},type:'if',locations:[{start:{line:282,column:11},end:{line:285,column:5}},{start:{line:282,column:11},end:{line:285,column:5}}],line:282},'49':{loc:{start:{line:292,column:4},end:{line:308,column:5}},type:'if',locations:[{start:{line:292,column:4},end:{line:308,column:5}},{start:{line:292,column:4},end:{line:308,column:5}}],line:292},'50':{loc:{start:{line:296,column:6},end:{line:298,column:7}},type:'if',locations:[{start:{line:296,column:6},end:{line:298,column:7}},{start:{line:296,column:6},end:{line:298,column:7}}],line:296},'51':{loc:{start:{line:300,column:8},end:{line:302,column:9}},type:'if',locations:[{start:{line:300,column:8},end:{line:302,column:9}},{start:{line:300,column:8},end:{line:302,column:9}}],line:300},'52':{loc:{start:{line:300,column:12},end:{line:300,column:111}},type:'binary-expr',locations:[{start:{line:300,column:12},end:{line:300,column:21}},{start:{line:300,column:25},end:{line:300,column:52}},{start:{line:300,column:56},end:{line:300,column:111}}],line:300},'53':{loc:{start:{line:333,column:4},end:{line:333,column:23}},type:'if',locations:[{start:{line:333,column:4},end:{line:333,column:23}},{start:{line:333,column:4},end:{line:333,column:23}}],line:333},'54':{loc:{start:{line:341,column:11},end:{line:341,column:35}},type:'binary-expr',locations:[{start:{line:341,column:11},end:{line:341,column:17}},{start:{line:341,column:21},end:{line:341,column:35}}],line:341},'55':{loc:{start:{line:342,column:2},end:{line:359,column:3}},type:'if',locations:[{start:{line:342,column:2},end:{line:359,column:3}},{start:{line:342,column:2},end:{line:359,column:3}}],line:342},'56':{loc:{start:{line:345,column:6},end:{line:347,column:7}},type:'if',locations:[{start:{line:345,column:6},end:{line:347,column:7}},{start:{line:345,column:6},end:{line:347,column:7}}],line:345},'57':{loc:{start:{line:351,column:4},end:{line:351,column:65}},type:'if',locations:[{start:{line:351,column:4},end:{line:351,column:65}},{start:{line:351,column:4},end:{line:351,column:65}}],line:351},'58':{loc:{start:{line:352,column:9},end:{line:359,column:3}},type:'if',locations:[{start:{line:352,column:9},end:{line:359,column:3}},{start:{line:352,column:9},end:{line:359,column:3}}],line:352},'59':{loc:{start:{line:362,column:4},end:{line:388,column:5}},type:'if',locations:[{start:{line:362,column:4},end:{line:388,column:5}},{start:{line:362,column:4},end:{line:388,column:5}}],line:362},'60':{loc:{start:{line:364,column:6},end:{line:366,column:7}},type:'if',locations:[{start:{line:364,column:6},end:{line:366,column:7}},{start:{line:364,column:6},end:{line:366,column:7}}],line:364},'61':{loc:{start:{line:367,column:6},end:{line:387,column:7}},type:'if',locations:[{start:{line:367,column:6},end:{line:387,column:7}},{start:{line:367,column:6},end:{line:387,column:7}}],line:367},'62':{loc:{start:{line:367,column:10},end:{line:367,column:48}},type:'binary-expr',locations:[{start:{line:367,column:10},end:{line:367,column:17}},{start:{line:367,column:21},end:{line:367,column:48}}],line:367},'63':{loc:{start:{line:384,column:22},end:{line:386,column:37}},type:'cond-expr',locations:[{start:{line:385,column:26},end:{line:385,column:53}},{start:{line:386,column:26},end:{line:386,column:37}}],line:384},'64':{loc:{start:{line:391,column:2},end:{line:391,column:43}},type:'if',locations:[{start:{line:391,column:2},end:{line:391,column:43}},{start:{line:391,column:2},end:{line:391,column:43}}],line:391},'65':{loc:{start:{line:403,column:4},end:{line:405,column:5}},type:'if',locations:[{start:{line:403,column:4},end:{line:405,column:5}},{start:{line:403,column:4},end:{line:405,column:5}}],line:403},'66':{loc:{start:{line:403,column:8},end:{line:403,column:79}},type:'binary-expr',locations:[{start:{line:403,column:8},end:{line:403,column:27}},{start:{line:403,column:31},end:{line:403,column:62}},{start:{line:403,column:66},end:{line:403,column:79}}],line:403},'67':{loc:{start:{line:407,column:4},end:{line:407,column:63}},type:'if',locations:[{start:{line:407,column:4},end:{line:407,column:63}},{start:{line:407,column:4},end:{line:407,column:63}}],line:407},'68':{loc:{start:{line:407,column:8},end:{line:407,column:55}},type:'binary-expr',locations:[{start:{line:407,column:8},end:{line:407,column:31}},{start:{line:407,column:35},end:{line:407,column:55}}],line:407},'69':{loc:{start:{line:408,column:4},end:{line:408,column:55}},type:'if',locations:[{start:{line:408,column:4},end:{line:408,column:55}},{start:{line:408,column:4},end:{line:408,column:55}}],line:408},'70':{loc:{start:{line:409,column:4},end:{line:411,column:69}},type:'if',locations:[{start:{line:409,column:4},end:{line:411,column:69}},{start:{line:409,column:4},end:{line:411,column:69}}],line:409},'71':{loc:{start:{line:410,column:9},end:{line:411,column:69}},type:'if',locations:[{start:{line:410,column:9},end:{line:411,column:69}},{start:{line:410,column:9},end:{line:411,column:69}}],line:410},'72':{loc:{start:{line:411,column:9},end:{line:411,column:69}},type:'if',locations:[{start:{line:411,column:9},end:{line:411,column:69}},{start:{line:411,column:9},end:{line:411,column:69}}],line:411},'73':{loc:{start:{line:413,column:12},end:{line:415,column:17}},type:'cond-expr',locations:[{start:{line:414,column:12},end:{line:414,column:33}},{start:{line:415,column:12},end:{line:415,column:17}}],line:413},'74':{loc:{start:{line:418,column:4},end:{line:424,column:5}},type:'if',locations:[{start:{line:418,column:4},end:{line:424,column:5}},{start:{line:418,column:4},end:{line:424,column:5}}],line:418},'75':{loc:{start:{line:421,column:11},end:{line:424,column:5}},type:'if',locations:[{start:{line:421,column:11},end:{line:424,column:5}},{start:{line:421,column:11},end:{line:424,column:5}}],line:421},'76':{loc:{start:{line:448,column:13},end:{line:448,column:42}},type:'binary-expr',locations:[{start:{line:448,column:13},end:{line:448,column:22}},{start:{line:448,column:26},end:{line:448,column:42}}],line:448}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0,'146':0,'147':0,'148':0,'149':0,'150':0,'151':0,'152':0,'153':0,'154':0,'155':0,'156':0,'157':0,'158':0,'159':0,'160':0,'161':0,'162':0,'163':0,'164':0,'165':0,'166':0,'167':0,'168':0,'169':0,'170':0,'171':0,'172':0,'173':0,'174':0,'175':0,'176':0,'177':0,'178':0,'179':0,'180':0,'181':0,'182':0,'183':0,'184':0,'185':0,'186':0,'187':0,'188':0,'189':0,'190':0,'191':0,'192':0,'193':0,'194':0,'195':0,'196':0,'197':0,'198':0,'199':0,'200':0,'201':0,'202':0,'203':0,'204':0,'205':0,'206':0,'207':0,'208':0,'209':0,'210':0,'211':0,'212':0,'213':0,'214':0,'215':0,'216':0,'217':0,'218':0,'219':0,'220':0,'221':0,'222':0,'223':0,'224':0,'225':0,'226':0,'227':0,'228':0,'229':0,'230':0,'231':0,'232':0,'233':0,'234':0,'235':0,'236':0,'237':0,'238':0,'239':0,'240':0,'241':0,'242':0,'243':0,'244':0,'245':0,'246':0,'247':0,'248':0,'249':0,'250':0,'251':0,'252':0,'253':0,'254':0,'255':0,'256':0,'257':0,'258':0,'259':0,'260':0,'261':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0,0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0],'22':[0,0],'23':[0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0],'29':[0,0],'30':[0,0],'31':[0,0],'32':[0,0],'33':[0,0],'34':[0,0],'35':[0,0],'36':[0,0],'37':[0,0],'38':[0,0],'39':[0,0],'40':[0,0],'41':[0,0],'42':[0,0],'43':[0,0],'44':[0,0],'45':[0,0],'46':[0,0],'47':[0,0],'48':[0,0],'49':[0,0],'50':[0,0],'51':[0,0],'52':[0,0,0],'53':[0,0],'54':[0,0],'55':[0,0],'56':[0,0],'57':[0,0],'58':[0,0],'59':[0,0],'60':[0,0],'61':[0,0],'62':[0,0],'63':[0,0],'64':[0,0],'65':[0,0],'66':[0,0,0],'67':[0,0],'68':[0,0],'69':[0,0],'70':[0,0],'71':[0,0],'72':[0,0],'73':[0,0],'74':[0,0],'75':[0,0],'76':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();++cov_i7vu9s260.s[0];exports=module.exports=lifecycle;++cov_i7vu9s260.s[1];exports.cmd=cmd;++cov_i7vu9s260.s[2];exports.makeEnv=makeEnv;++cov_i7vu9s260.s[3];exports._incorrectWorkingDirectory=_incorrectWorkingDirectory;var log=(++cov_i7vu9s260.s[4],require('npmlog'));var spawn=(++cov_i7vu9s260.s[5],require('./spawn'));var npm=(++cov_i7vu9s260.s[6],require('../npm.js'));var path=(++cov_i7vu9s260.s[7],require('path'));var fs=(++cov_i7vu9s260.s[8],require('graceful-fs'));var chain=(++cov_i7vu9s260.s[9],require('slide').chain);var Stream=(++cov_i7vu9s260.s[10],require('stream').Stream);var PATH=(++cov_i7vu9s260.s[11],'PATH');var uidNumber=(++cov_i7vu9s260.s[12],require('uid-number'));var umask=(++cov_i7vu9s260.s[13],require('./umask'));var usage=(++cov_i7vu9s260.s[14],require('./usage'));var output=(++cov_i7vu9s260.s[15],require('./output.js'));var which=(++cov_i7vu9s260.s[16],require('which'));// windows calls it's path 'Path' usually, but this is not guaranteed.
++cov_i7vu9s260.s[17];if(process.platform==='win32'){++cov_i7vu9s260.b[0][0];++cov_i7vu9s260.s[18];PATH='Path';++cov_i7vu9s260.s[19];Object.keys(process.env).forEach(function(e){++cov_i7vu9s260.f[0];++cov_i7vu9s260.s[20];if(e.match(/^PATH$/i)){++cov_i7vu9s260.b[1][0];++cov_i7vu9s260.s[21];PATH=e;}else{++cov_i7vu9s260.b[1][1];}});}else{++cov_i7vu9s260.b[0][1];}function logid(pkg,stage){++cov_i7vu9s260.f[1];++cov_i7vu9s260.s[22];return pkg._id+'~'+stage+':';}function lifecycle(pkg,stage,wd,unsafe,failOk,cb){++cov_i7vu9s260.f[2];++cov_i7vu9s260.s[23];if(typeof cb!=='function'){++cov_i7vu9s260.b[2][0];++cov_i7vu9s260.s[24];cb=failOk;++cov_i7vu9s260.s[25];failOk=false;}else{++cov_i7vu9s260.b[2][1];}++cov_i7vu9s260.s[26];if(typeof cb!=='function'){++cov_i7vu9s260.b[3][0];++cov_i7vu9s260.s[27];cb=unsafe;++cov_i7vu9s260.s[28];unsafe=false;}else{++cov_i7vu9s260.b[3][1];}++cov_i7vu9s260.s[29];if(typeof cb!=='function'){++cov_i7vu9s260.b[4][0];++cov_i7vu9s260.s[30];cb=wd;++cov_i7vu9s260.s[31];wd=null;}else{++cov_i7vu9s260.b[4][1];}++cov_i7vu9s260.s[32];while((++cov_i7vu9s260.b[5][0],pkg)&&(++cov_i7vu9s260.b[5][1],pkg._data)){++cov_i7vu9s260.s[33];pkg=pkg._data;}++cov_i7vu9s260.s[34];if(!pkg){++cov_i7vu9s260.b[6][0];++cov_i7vu9s260.s[35];return cb(new Error('Invalid package data'));}else{++cov_i7vu9s260.b[6][1];}++cov_i7vu9s260.s[36];log.info('lifecycle',logid(pkg,stage),pkg._id);++cov_i7vu9s260.s[37];if(!pkg.scripts){++cov_i7vu9s260.b[7][0];++cov_i7vu9s260.s[38];pkg.scripts={};}else{++cov_i7vu9s260.b[7][1];}++cov_i7vu9s260.s[39];if(npm.config.get('ignore-scripts')){++cov_i7vu9s260.b[8][0];++cov_i7vu9s260.s[40];log.info('lifecycle',logid(pkg,stage),'ignored because ignore-scripts is set to true',pkg._id);++cov_i7vu9s260.s[41];pkg.scripts={};}else{++cov_i7vu9s260.b[8][1];}++cov_i7vu9s260.s[42];if((++cov_i7vu9s260.b[10][0],stage==='prepublish')&&(++cov_i7vu9s260.b[10][1],npm.config.get('ignore-prepublish'))){++cov_i7vu9s260.b[9][0];++cov_i7vu9s260.s[43];log.info('lifecycle',logid(pkg,stage),'ignored because ignore-prepublish is set to true',pkg._id);++cov_i7vu9s260.s[44];delete pkg.scripts.prepublish;}else{++cov_i7vu9s260.b[9][1];}++cov_i7vu9s260.s[45];validWd((++cov_i7vu9s260.b[11][0],wd)||(++cov_i7vu9s260.b[11][1],path.resolve(npm.dir,pkg.name)),function(er,wd){++cov_i7vu9s260.f[3];++cov_i7vu9s260.s[46];if(er){++cov_i7vu9s260.b[12][0];++cov_i7vu9s260.s[47];return cb(er);}else{++cov_i7vu9s260.b[12][1];}++cov_i7vu9s260.s[48];unsafe=(++cov_i7vu9s260.b[13][0],unsafe)||(++cov_i7vu9s260.b[13][1],npm.config.get('unsafe-perm'));++cov_i7vu9s260.s[49];if(((++cov_i7vu9s260.b[15][0],wd.indexOf(npm.dir)!==0)||(++cov_i7vu9s260.b[15][1],_incorrectWorkingDirectory(wd,pkg)))&&(++cov_i7vu9s260.b[15][2],!unsafe)&&(++cov_i7vu9s260.b[15][3],pkg.scripts[stage])){++cov_i7vu9s260.b[14][0];++cov_i7vu9s260.s[50];log.warn('lifecycle',logid(pkg,stage),'cannot run in wd','%s %s (wd=%s)',pkg._id,pkg.scripts[stage],wd);++cov_i7vu9s260.s[51];return cb();}else{++cov_i7vu9s260.b[14][1];}// set the env variables, then run scripts as a child process.
var env=(++cov_i7vu9s260.s[52],makeEnv(pkg));++cov_i7vu9s260.s[53];env.npm_lifecycle_event=stage;++cov_i7vu9s260.s[54];env.npm_node_execpath=env.NODE=(++cov_i7vu9s260.b[16][0],env.NODE)||(++cov_i7vu9s260.b[16][1],process.execPath);++cov_i7vu9s260.s[55];env.npm_execpath=require.main.filename;// 'nobody' typically doesn't have permission to write to /tmp
// even if it's never used, sh freaks out.
++cov_i7vu9s260.s[56];if(!npm.config.get('unsafe-perm')){++cov_i7vu9s260.b[17][0];++cov_i7vu9s260.s[57];env.TMPDIR=wd;}else{++cov_i7vu9s260.b[17][1];}++cov_i7vu9s260.s[58];lifecycle_(pkg,stage,wd,env,unsafe,failOk,cb);});}function _incorrectWorkingDirectory(wd,pkg){++cov_i7vu9s260.f[4];++cov_i7vu9s260.s[59];return wd.lastIndexOf(pkg.name)!==wd.length-pkg.name.length;}function lifecycle_(pkg,stage,wd,env,unsafe,failOk,cb){++cov_i7vu9s260.f[5];var pathArr=(++cov_i7vu9s260.s[60],[]);var p=(++cov_i7vu9s260.s[61],wd.split(/[\\\/]node_modules[\\\/]/));var acc=(++cov_i7vu9s260.s[62],path.resolve(p.shift()));++cov_i7vu9s260.s[63];p.forEach(function(pp){++cov_i7vu9s260.f[6];++cov_i7vu9s260.s[64];pathArr.unshift(path.join(acc,'node_modules','.bin'));++cov_i7vu9s260.s[65];acc=path.join(acc,'node_modules',pp);});++cov_i7vu9s260.s[66];pathArr.unshift(path.join(acc,'node_modules','.bin'));// we also unshift the bundled node-gyp-bin folder so that
// the bundled one will be used for installing things.
++cov_i7vu9s260.s[67];pathArr.unshift(path.join(__dirname,'..','..','bin','node-gyp-bin'));++cov_i7vu9s260.s[68];if(shouldPrependCurrentNodeDirToPATH()){++cov_i7vu9s260.b[18][0];++cov_i7vu9s260.s[69];// prefer current node interpreter in child scripts
pathArr.push(path.dirname(process.execPath));}else{++cov_i7vu9s260.b[18][1];}++cov_i7vu9s260.s[70];if(env[PATH]){++cov_i7vu9s260.b[19][0];++cov_i7vu9s260.s[71];pathArr.push(env[PATH]);}else{++cov_i7vu9s260.b[19][1];}++cov_i7vu9s260.s[72];env[PATH]=pathArr.join(process.platform==='win32'?(++cov_i7vu9s260.b[20][0],';'):(++cov_i7vu9s260.b[20][1],':'));var packageLifecycle=(++cov_i7vu9s260.s[73],(++cov_i7vu9s260.b[21][0],pkg.scripts)&&(++cov_i7vu9s260.b[21][1],pkg.scripts.hasOwnProperty(stage)));++cov_i7vu9s260.s[74];if(packageLifecycle){++cov_i7vu9s260.b[22][0];++cov_i7vu9s260.s[75];// define this here so it's available to all scripts.
env.npm_lifecycle_script=pkg.scripts[stage];}else{++cov_i7vu9s260.b[22][1];++cov_i7vu9s260.s[76];log.silly('lifecycle',logid(pkg,stage),'no script for '+stage+', continuing');}function done(er){++cov_i7vu9s260.f[7];++cov_i7vu9s260.s[77];if(er){++cov_i7vu9s260.b[23][0];++cov_i7vu9s260.s[78];if(npm.config.get('force')){++cov_i7vu9s260.b[24][0];++cov_i7vu9s260.s[79];log.info('lifecycle',logid(pkg,stage),'forced, continuing',er);++cov_i7vu9s260.s[80];er=null;}else{++cov_i7vu9s260.b[24][1];++cov_i7vu9s260.s[81];if(failOk){++cov_i7vu9s260.b[25][0];++cov_i7vu9s260.s[82];log.warn('lifecycle',logid(pkg,stage),'continuing anyway',er.message);++cov_i7vu9s260.s[83];er=null;}else{++cov_i7vu9s260.b[25][1];}}}else{++cov_i7vu9s260.b[23][1];}++cov_i7vu9s260.s[84];cb(er);}++cov_i7vu9s260.s[85];chain([(++cov_i7vu9s260.b[26][0],packageLifecycle)&&(++cov_i7vu9s260.b[26][1],[runPackageLifecycle,pkg,env,wd,unsafe]),[runHookLifecycle,pkg,env,wd,unsafe]],done);}function shouldPrependCurrentNodeDirToPATH(){++cov_i7vu9s260.f[8];var cfgsetting=(++cov_i7vu9s260.s[86],npm.config.get('scripts-prepend-node-path'));++cov_i7vu9s260.s[87];if(cfgsetting===false){++cov_i7vu9s260.b[27][0];++cov_i7vu9s260.s[88];return false;}else{++cov_i7vu9s260.b[27][1];}++cov_i7vu9s260.s[89];if(cfgsetting===true){++cov_i7vu9s260.b[28][0];++cov_i7vu9s260.s[90];return true;}else{++cov_i7vu9s260.b[28][1];}var isDifferentNodeInPath;var isWindows=(++cov_i7vu9s260.s[91],process.platform==='win32');var foundExecPath;++cov_i7vu9s260.s[92];try{++cov_i7vu9s260.s[93];foundExecPath=which.sync(path.basename(process.execPath),{pathExt:isWindows?(++cov_i7vu9s260.b[29][0],';'):(++cov_i7vu9s260.b[29][1],':')});// Apply `fs.realpath()` here to avoid false positives when `node` is a symlinked executable.
++cov_i7vu9s260.s[94];isDifferentNodeInPath=fs.realpathSync(process.execPath).toUpperCase()!==fs.realpathSync(foundExecPath).toUpperCase();}catch(e){++cov_i7vu9s260.s[95];isDifferentNodeInPath=true;}++cov_i7vu9s260.s[96];if(cfgsetting==='warn-only'){++cov_i7vu9s260.b[30][0];++cov_i7vu9s260.s[97];if((++cov_i7vu9s260.b[32][0],isDifferentNodeInPath)&&(++cov_i7vu9s260.b[32][1],!shouldPrependCurrentNodeDirToPATH.hasWarned)){++cov_i7vu9s260.b[31][0];++cov_i7vu9s260.s[98];if(foundExecPath){++cov_i7vu9s260.b[33][0];++cov_i7vu9s260.s[99];log.warn('lifecycle','The node binary used for scripts is',foundExecPath,'but npm is using',process.execPath,'itself. Use the `--scripts-prepend-node-path` option to include the path for the node binary npm was executed with.');}else{++cov_i7vu9s260.b[33][1];++cov_i7vu9s260.s[100];log.warn('lifecycle','npm is using',process.execPath,'but there is no node binary in the current PATH. Use the `--scripts-prepend-node-path` option to include the path for the node binary npm was executed with.');}++cov_i7vu9s260.s[101];shouldPrependCurrentNodeDirToPATH.hasWarned=true;}else{++cov_i7vu9s260.b[31][1];}++cov_i7vu9s260.s[102];return false;}else{++cov_i7vu9s260.b[30][1];}++cov_i7vu9s260.s[103];return isDifferentNodeInPath;}function validWd(d,cb){++cov_i7vu9s260.f[9];++cov_i7vu9s260.s[104];fs.stat(d,function(er,st){++cov_i7vu9s260.f[10];++cov_i7vu9s260.s[105];if((++cov_i7vu9s260.b[35][0],er)||(++cov_i7vu9s260.b[35][1],!st.isDirectory())){++cov_i7vu9s260.b[34][0];var p=(++cov_i7vu9s260.s[106],path.dirname(d));++cov_i7vu9s260.s[107];if(p===d){++cov_i7vu9s260.b[36][0];++cov_i7vu9s260.s[108];return cb(new Error('Could not find suitable wd'));}else{++cov_i7vu9s260.b[36][1];}++cov_i7vu9s260.s[109];return validWd(p,cb);}else{++cov_i7vu9s260.b[34][1];}++cov_i7vu9s260.s[110];return cb(null,d);});}function runPackageLifecycle(pkg,env,wd,unsafe,cb){++cov_i7vu9s260.f[11];// run package lifecycle scripts in the package root, or the nearest parent.
var stage=(++cov_i7vu9s260.s[111],env.npm_lifecycle_event);var cmd=(++cov_i7vu9s260.s[112],env.npm_lifecycle_script);var note=(++cov_i7vu9s260.s[113],'\n> '+pkg._id+' '+stage+' '+wd+'\n> '+cmd+'\n');++cov_i7vu9s260.s[114];runCmd(note,cmd,pkg,env,stage,wd,unsafe,cb);}var running=(++cov_i7vu9s260.s[115],false);var queue=(++cov_i7vu9s260.s[116],[]);function dequeue(){++cov_i7vu9s260.f[12];++cov_i7vu9s260.s[117];running=false;++cov_i7vu9s260.s[118];if(queue.length){++cov_i7vu9s260.b[37][0];var r=(++cov_i7vu9s260.s[119],queue.shift());++cov_i7vu9s260.s[120];runCmd.apply(null,r);}else{++cov_i7vu9s260.b[37][1];}}function runCmd(note,cmd,pkg,env,stage,wd,unsafe,cb){++cov_i7vu9s260.f[13];++cov_i7vu9s260.s[121];if(running){++cov_i7vu9s260.b[38][0];++cov_i7vu9s260.s[122];queue.push([note,cmd,pkg,env,stage,wd,unsafe,cb]);++cov_i7vu9s260.s[123];return;}else{++cov_i7vu9s260.b[38][1];}++cov_i7vu9s260.s[124];running=true;++cov_i7vu9s260.s[125];log.pause();var user=(++cov_i7vu9s260.s[126],unsafe?(++cov_i7vu9s260.b[39][0],null):(++cov_i7vu9s260.b[39][1],npm.config.get('user')));var group=(++cov_i7vu9s260.s[127],unsafe?(++cov_i7vu9s260.b[40][0],null):(++cov_i7vu9s260.b[40][1],npm.config.get('group')));++cov_i7vu9s260.s[128];if(log.level!=='silent'){++cov_i7vu9s260.b[41][0];++cov_i7vu9s260.s[129];output(note);}else{++cov_i7vu9s260.b[41][1];}++cov_i7vu9s260.s[130];log.verbose('lifecycle',logid(pkg,stage),'unsafe-perm in lifecycle',unsafe);++cov_i7vu9s260.s[131];if(process.platform==='win32'){++cov_i7vu9s260.b[42][0];++cov_i7vu9s260.s[132];unsafe=true;}else{++cov_i7vu9s260.b[42][1];}++cov_i7vu9s260.s[133];if(unsafe){++cov_i7vu9s260.b[43][0];++cov_i7vu9s260.s[134];runCmd_(cmd,pkg,env,wd,stage,unsafe,0,0,cb);}else{++cov_i7vu9s260.b[43][1];++cov_i7vu9s260.s[135];uidNumber(user,group,function(er,uid,gid){++cov_i7vu9s260.f[14];++cov_i7vu9s260.s[136];runCmd_(cmd,pkg,env,wd,stage,unsafe,uid,gid,cb);});}}function runCmd_(cmd,pkg,env,wd,stage,unsafe,uid,gid,cb_){++cov_i7vu9s260.f[15];function cb(er){++cov_i7vu9s260.f[16];++cov_i7vu9s260.s[137];cb_.apply(null,arguments);++cov_i7vu9s260.s[138];log.resume();++cov_i7vu9s260.s[139];process.nextTick(dequeue);}var conf=(++cov_i7vu9s260.s[140],{cwd:wd,env:env,stdio:[0,1,2]});++cov_i7vu9s260.s[141];if(!unsafe){++cov_i7vu9s260.b[44][0];++cov_i7vu9s260.s[142];conf.uid=uid^0;++cov_i7vu9s260.s[143];conf.gid=gid^0;}else{++cov_i7vu9s260.b[44][1];}var sh=(++cov_i7vu9s260.s[144],'sh');var shFlag=(++cov_i7vu9s260.s[145],'-c');++cov_i7vu9s260.s[146];if(process.platform==='win32'){++cov_i7vu9s260.b[45][0];++cov_i7vu9s260.s[147];sh=(++cov_i7vu9s260.b[46][0],process.env.comspec)||(++cov_i7vu9s260.b[46][1],'cmd');++cov_i7vu9s260.s[148];shFlag='/d /s /c';++cov_i7vu9s260.s[149];conf.windowsVerbatimArguments=true;}else{++cov_i7vu9s260.b[45][1];}++cov_i7vu9s260.s[150];log.verbose('lifecycle',logid(pkg,stage),'PATH:',env[PATH]);++cov_i7vu9s260.s[151];log.verbose('lifecycle',logid(pkg,stage),'CWD:',wd);++cov_i7vu9s260.s[152];log.silly('lifecycle',logid(pkg,stage),'Args:',[shFlag,cmd]);var proc=(++cov_i7vu9s260.s[153],spawn(sh,[shFlag,cmd],conf));++cov_i7vu9s260.s[154];proc.on('error',procError);++cov_i7vu9s260.s[155];proc.on('close',function(code,signal){++cov_i7vu9s260.f[17];++cov_i7vu9s260.s[156];log.silly('lifecycle',logid(pkg,stage),'Returned: code:',code,' signal:',signal);++cov_i7vu9s260.s[157];if(signal){++cov_i7vu9s260.b[47][0];++cov_i7vu9s260.s[158];process.kill(process.pid,signal);}else{++cov_i7vu9s260.b[47][1];++cov_i7vu9s260.s[159];if(code){++cov_i7vu9s260.b[48][0];var er=(++cov_i7vu9s260.s[160],new Error('Exit status '+code));++cov_i7vu9s260.s[161];er.errno=code;}else{++cov_i7vu9s260.b[48][1];}}++cov_i7vu9s260.s[162];procError(er);});++cov_i7vu9s260.s[163];process.once('SIGTERM',procKill);++cov_i7vu9s260.s[164];process.once('SIGINT',procInterupt);function procError(er){++cov_i7vu9s260.f[18];++cov_i7vu9s260.s[165];if(er){++cov_i7vu9s260.b[49][0];++cov_i7vu9s260.s[166];log.info('lifecycle',logid(pkg,stage),'Failed to exec '+stage+' script');++cov_i7vu9s260.s[167];er.message=pkg._id+' '+stage+': `'+cmd+'`\n'+er.message;++cov_i7vu9s260.s[168];if(er.code!=='EPERM'){++cov_i7vu9s260.b[50][0];++cov_i7vu9s260.s[169];er.code='ELIFECYCLE';}else{++cov_i7vu9s260.b[50][1];}++cov_i7vu9s260.s[170];fs.stat(npm.dir,function(statError,d){++cov_i7vu9s260.f[19];++cov_i7vu9s260.s[171];if((++cov_i7vu9s260.b[52][0],statError)&&(++cov_i7vu9s260.b[52][1],statError.code==='ENOENT')&&(++cov_i7vu9s260.b[52][2],npm.dir.split(path.sep).slice(-1)[0]==='node_modules')){++cov_i7vu9s260.b[51][0];++cov_i7vu9s260.s[172];log.warn('','Local package.json exists, but node_modules missing, did you mean to install?');}else{++cov_i7vu9s260.b[51][1];}});++cov_i7vu9s260.s[173];er.pkgid=pkg._id;++cov_i7vu9s260.s[174];er.stage=stage;++cov_i7vu9s260.s[175];er.script=cmd;++cov_i7vu9s260.s[176];er.pkgname=pkg.name;}else{++cov_i7vu9s260.b[49][1];}++cov_i7vu9s260.s[177];process.removeListener('SIGTERM',procKill);++cov_i7vu9s260.s[178];process.removeListener('SIGTERM',procInterupt);++cov_i7vu9s260.s[179];process.removeListener('SIGINT',procKill);++cov_i7vu9s260.s[180];return cb(er);}function procKill(){++cov_i7vu9s260.f[20];++cov_i7vu9s260.s[181];proc.kill();}function procInterupt(){++cov_i7vu9s260.f[21];++cov_i7vu9s260.s[182];proc.kill('SIGINT');++cov_i7vu9s260.s[183];proc.on('exit',function(){++cov_i7vu9s260.f[22];++cov_i7vu9s260.s[184];process.exit();});++cov_i7vu9s260.s[185];process.once('SIGINT',procKill);}}function runHookLifecycle(pkg,env,wd,unsafe,cb){++cov_i7vu9s260.f[23];// check for a hook script, run if present.
var stage=(++cov_i7vu9s260.s[186],env.npm_lifecycle_event);var hook=(++cov_i7vu9s260.s[187],path.join(npm.dir,'.hooks',stage));var cmd=(++cov_i7vu9s260.s[188],hook);++cov_i7vu9s260.s[189];fs.stat(hook,function(er){++cov_i7vu9s260.f[24];++cov_i7vu9s260.s[190];if(er){++cov_i7vu9s260.b[53][0];++cov_i7vu9s260.s[191];return cb();}else{++cov_i7vu9s260.b[53][1];}var note=(++cov_i7vu9s260.s[192],'\n> '+pkg._id+' '+stage+' '+wd+'\n> '+cmd);++cov_i7vu9s260.s[193];runCmd(note,hook,pkg,env,stage,wd,unsafe,cb);});}function makeEnv(data,prefix,env){++cov_i7vu9s260.f[25];++cov_i7vu9s260.s[194];prefix=(++cov_i7vu9s260.b[54][0],prefix)||(++cov_i7vu9s260.b[54][1],'npm_package_');++cov_i7vu9s260.s[195];if(!env){++cov_i7vu9s260.b[55][0];++cov_i7vu9s260.s[196];env={};++cov_i7vu9s260.s[197];for(var i in process.env){++cov_i7vu9s260.s[198];if(!i.match(/^npm_/)){++cov_i7vu9s260.b[56][0];++cov_i7vu9s260.s[199];env[i]=process.env[i];}else{++cov_i7vu9s260.b[56][1];}}// express and others respect the NODE_ENV value.
++cov_i7vu9s260.s[200];if(npm.config.get('production')){++cov_i7vu9s260.b[57][0];++cov_i7vu9s260.s[201];env.NODE_ENV='production';}else{++cov_i7vu9s260.b[57][1];}}else{++cov_i7vu9s260.b[55][1];++cov_i7vu9s260.s[202];if(!data.hasOwnProperty('_lifecycleEnv')){++cov_i7vu9s260.b[58][0];++cov_i7vu9s260.s[203];Object.defineProperty(data,'_lifecycleEnv',{value:env,enumerable:false});}else{++cov_i7vu9s260.b[58][1];}}++cov_i7vu9s260.s[204];for(i in data){++cov_i7vu9s260.s[205];if(i.charAt(0)!=='_'){++cov_i7vu9s260.b[59][0];var envKey=(++cov_i7vu9s260.s[206],(prefix+i).replace(/[^a-zA-Z0-9_]/g,'_'));++cov_i7vu9s260.s[207];if(i==='readme'){++cov_i7vu9s260.b[60][0];++cov_i7vu9s260.s[208];continue;}else{++cov_i7vu9s260.b[60][1];}++cov_i7vu9s260.s[209];if((++cov_i7vu9s260.b[62][0],data[i])&&(++cov_i7vu9s260.b[62][1],typeof data[i]==='object')){++cov_i7vu9s260.b[61][0];++cov_i7vu9s260.s[210];try{++cov_i7vu9s260.s[211];// quick and dirty detection for cyclical structures
JSON.stringify(data[i]);++cov_i7vu9s260.s[212];makeEnv(data[i],envKey+'_',env);}catch(ex){// usually these are package objects.
// just get the path and basic details.
var d=(++cov_i7vu9s260.s[213],data[i]);++cov_i7vu9s260.s[214];makeEnv({name:d.name,version:d.version,path:d.path},envKey+'_',env);}}else{++cov_i7vu9s260.b[61][1];++cov_i7vu9s260.s[215];env[envKey]=String(data[i]);++cov_i7vu9s260.s[216];env[envKey]=env[envKey].indexOf('\n')!==-1?(++cov_i7vu9s260.b[63][0],JSON.stringify(env[envKey])):(++cov_i7vu9s260.b[63][1],env[envKey]);}}else{++cov_i7vu9s260.b[59][1];}}++cov_i7vu9s260.s[217];if(prefix!=='npm_package_'){++cov_i7vu9s260.b[64][0];++cov_i7vu9s260.s[218];return env;}else{++cov_i7vu9s260.b[64][1];}++cov_i7vu9s260.s[219];prefix='npm_config_';var pkgConfig=(++cov_i7vu9s260.s[220],{});var keys=(++cov_i7vu9s260.s[221],npm.config.keys);var pkgVerConfig=(++cov_i7vu9s260.s[222],{});var namePref=(++cov_i7vu9s260.s[223],data.name+':');var verPref=(++cov_i7vu9s260.s[224],data.name+'@'+data.version+':');++cov_i7vu9s260.s[225];keys.forEach(function(i){++cov_i7vu9s260.f[26];++cov_i7vu9s260.s[226];// in some rare cases (e.g. working with nerf darts), there are segmented
// "private" (underscore-prefixed) config names -- don't export
if((++cov_i7vu9s260.b[66][0],i.charAt(0)==='_')&&(++cov_i7vu9s260.b[66][1],i.indexOf('_'+namePref)!==0)||(++cov_i7vu9s260.b[66][2],i.match(/:_/))){++cov_i7vu9s260.b[65][0];++cov_i7vu9s260.s[227];return;}else{++cov_i7vu9s260.b[65][1];}var value=(++cov_i7vu9s260.s[228],npm.config.get(i));++cov_i7vu9s260.s[229];if((++cov_i7vu9s260.b[68][0],value instanceof Stream)||(++cov_i7vu9s260.b[68][1],Array.isArray(value))){++cov_i7vu9s260.b[67][0];++cov_i7vu9s260.s[230];return;}else{++cov_i7vu9s260.b[67][1];}++cov_i7vu9s260.s[231];if(i.match(/umask/)){++cov_i7vu9s260.b[69][0];++cov_i7vu9s260.s[232];value=umask.toString(value);}else{++cov_i7vu9s260.b[69][1];}++cov_i7vu9s260.s[233];if(!value){++cov_i7vu9s260.b[70][0];++cov_i7vu9s260.s[234];value='';}else{++cov_i7vu9s260.b[70][1];++cov_i7vu9s260.s[235];if(typeof value==='number'){++cov_i7vu9s260.b[71][0];++cov_i7vu9s260.s[236];value=''+value;}else{++cov_i7vu9s260.b[71][1];++cov_i7vu9s260.s[237];if(typeof value!=='string'){++cov_i7vu9s260.b[72][0];++cov_i7vu9s260.s[238];value=JSON.stringify(value);}else{++cov_i7vu9s260.b[72][1];}}}++cov_i7vu9s260.s[239];value=value.indexOf('\n')!==-1?(++cov_i7vu9s260.b[73][0],JSON.stringify(value)):(++cov_i7vu9s260.b[73][1],value);++cov_i7vu9s260.s[240];i=i.replace(/^_+/,'');var k;++cov_i7vu9s260.s[241];if(i.indexOf(namePref)===0){++cov_i7vu9s260.b[74][0];++cov_i7vu9s260.s[242];k=i.substr(namePref.length).replace(/[^a-zA-Z0-9_]/g,'_');++cov_i7vu9s260.s[243];pkgConfig[k]=value;}else{++cov_i7vu9s260.b[74][1];++cov_i7vu9s260.s[244];if(i.indexOf(verPref)===0){++cov_i7vu9s260.b[75][0];++cov_i7vu9s260.s[245];k=i.substr(verPref.length).replace(/[^a-zA-Z0-9_]/g,'_');++cov_i7vu9s260.s[246];pkgVerConfig[k]=value;}else{++cov_i7vu9s260.b[75][1];}}var envKey=(++cov_i7vu9s260.s[247],(prefix+i).replace(/[^a-zA-Z0-9_]/g,'_'));++cov_i7vu9s260.s[248];env[envKey]=value;});++cov_i7vu9s260.s[249];prefix='npm_package_config_';++cov_i7vu9s260.s[250];[pkgConfig,pkgVerConfig].forEach(function(conf){++cov_i7vu9s260.f[27];++cov_i7vu9s260.s[251];for(var i in conf){var envKey=(++cov_i7vu9s260.s[252],prefix+i);++cov_i7vu9s260.s[253];env[envKey]=conf[i];}});++cov_i7vu9s260.s[254];return env;}function cmd(stage){++cov_i7vu9s260.f[28];function CMD(args,cb){++cov_i7vu9s260.f[29];++cov_i7vu9s260.s[255];npm.commands['run-script']([stage].concat(args),cb);}++cov_i7vu9s260.s[256];CMD.usage=usage(stage,'npm '+stage+' [-- <args>]');var installedShallow=(++cov_i7vu9s260.s[257],require('./completion/installed-shallow.js'));++cov_i7vu9s260.s[258];CMD.completion=function(opts,cb){++cov_i7vu9s260.f[30];++cov_i7vu9s260.s[259];installedShallow(opts,function(d){++cov_i7vu9s260.f[31];++cov_i7vu9s260.s[260];return(++cov_i7vu9s260.b[76][0],d.scripts)&&(++cov_i7vu9s260.b[76][1],d.scripts[stage]);},cb);};++cov_i7vu9s260.s[261];return CMD;}