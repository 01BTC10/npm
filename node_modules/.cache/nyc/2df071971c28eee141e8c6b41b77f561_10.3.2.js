var cov_21vnkaxeg0=function(){var path='/Users/zkat/Documents/code/npm/lib/config/get-credentials-by-uri.js',hash='a209b210a7d274e780ebc02e3db43db8527c350b',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/zkat/Documents/code/npm/lib/config/get-credentials-by-uri.js',statementMap:{'0':{start:{line:1,column:13},end:{line:1,column:30}},'1':{start:{line:3,column:17},end:{line:3,column:42}},'2':{start:{line:5,column:0},end:{line:5,column:36}},'3':{start:{line:8,column:2},end:{line:8,column:68}},'4':{start:{line:9,column:15},end:{line:9,column:30}},'5':{start:{line:10,column:16},end:{line:10,column:48}},'6':{start:{line:13,column:10},end:{line:21,column:3}},'7':{start:{line:24,column:2},end:{line:29,column:3}},'8':{start:{line:25,column:14},end:{line:25,column:47}},'9':{start:{line:26,column:4},end:{line:26,column:50}},'10':{start:{line:27,column:9},end:{line:29,column:3}},'11':{start:{line:28,column:4},end:{line:28,column:42}},'12':{start:{line:31,column:2},end:{line:35,column:3}},'13':{start:{line:32,column:4},end:{line:32,column:46}},'14':{start:{line:34,column:4},end:{line:34,column:12}},'15':{start:{line:41,column:16},end:{line:41,column:33}},'16':{start:{line:42,column:16},end:{line:42,column:36}},'17':{start:{line:43,column:16},end:{line:43,column:37}},'18':{start:{line:44,column:2},end:{line:49,column:3}},'19':{start:{line:45,column:4},end:{line:45,column:54}},'20':{start:{line:46,column:4},end:{line:46,column:32}},'21':{start:{line:47,column:4},end:{line:47,column:29}},'22':{start:{line:48,column:4},end:{line:48,column:31}},'23':{start:{line:51,column:2},end:{line:55,column:3}},'24':{start:{line:52,column:4},end:{line:52,column:87}},'25':{start:{line:53,column:9},end:{line:55,column:3}},'26':{start:{line:54,column:4},end:{line:54,column:24}},'27':{start:{line:57,column:2},end:{line:61,column:3}},'28':{start:{line:58,column:4},end:{line:58,column:47}},'29':{start:{line:59,column:9},end:{line:61,column:3}},'30':{start:{line:60,column:4},end:{line:60,column:24}},'31':{start:{line:63,column:2},end:{line:67,column:3}},'32':{start:{line:64,column:4},end:{line:64,column:41}},'33':{start:{line:65,column:9},end:{line:67,column:3}},'34':{start:{line:66,column:4},end:{line:66,column:31}},'35':{start:{line:69,column:2},end:{line:71,column:3}},'36':{start:{line:70,column:4},end:{line:70,column:73}},'37':{start:{line:73,column:2},end:{line:73,column:10}}},fnMap:{'0':{name:'getCredentialsByURI',decl:{start:{line:7,column:9},end:{line:7,column:28}},loc:{start:{line:7,column:35},end:{line:74,column:1}},line:7}},branchMap:{'0':{loc:{start:{line:8,column:9},end:{line:8,column:39}},type:'binary-expr',locations:[{start:{line:8,column:9},end:{line:8,column:12}},{start:{line:8,column:16},end:{line:8,column:39}}],line:8},'1':{loc:{start:{line:24,column:2},end:{line:29,column:3}},type:'if',locations:[{start:{line:24,column:2},end:{line:29,column:3}},{start:{line:24,column:2},end:{line:29,column:3}}],line:24},'2':{loc:{start:{line:26,column:19},end:{line:26,column:50}},type:'cond-expr',locations:[{start:{line:26,column:37},end:{line:26,column:42}},{start:{line:26,column:45},end:{line:26,column:50}}],line:26},'3':{loc:{start:{line:27,column:9},end:{line:29,column:3}},type:'if',locations:[{start:{line:27,column:9},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:27},'4':{loc:{start:{line:31,column:2},end:{line:35,column:3}},type:'if',locations:[{start:{line:31,column:2},end:{line:35,column:3}},{start:{line:31,column:2},end:{line:35,column:3}}],line:31},'5':{loc:{start:{line:44,column:2},end:{line:49,column:3}},type:'if',locations:[{start:{line:44,column:2},end:{line:49,column:3}},{start:{line:44,column:2},end:{line:49,column:3}}],line:44},'6':{loc:{start:{line:44,column:6},end:{line:44,column:38}},type:'binary-expr',locations:[{start:{line:44,column:6},end:{line:44,column:13}},{start:{line:44,column:17},end:{line:44,column:38}}],line:44},'7':{loc:{start:{line:44,column:19},end:{line:44,column:37}},type:'binary-expr',locations:[{start:{line:44,column:19},end:{line:44,column:26}},{start:{line:44,column:30},end:{line:44,column:37}}],line:44},'8':{loc:{start:{line:51,column:2},end:{line:55,column:3}},type:'if',locations:[{start:{line:51,column:2},end:{line:55,column:3}},{start:{line:51,column:2},end:{line:55,column:3}}],line:51},'9':{loc:{start:{line:53,column:9},end:{line:55,column:3}},type:'if',locations:[{start:{line:53,column:9},end:{line:55,column:3}},{start:{line:53,column:9},end:{line:55,column:3}}],line:53},'10':{loc:{start:{line:53,column:13},end:{line:53,column:42}},type:'binary-expr',locations:[{start:{line:53,column:13},end:{line:53,column:31}},{start:{line:53,column:35},end:{line:53,column:42}}],line:53},'11':{loc:{start:{line:57,column:2},end:{line:61,column:3}},type:'if',locations:[{start:{line:57,column:2},end:{line:61,column:3}},{start:{line:57,column:2},end:{line:61,column:3}}],line:57},'12':{loc:{start:{line:59,column:9},end:{line:61,column:3}},type:'if',locations:[{start:{line:59,column:9},end:{line:61,column:3}},{start:{line:59,column:9},end:{line:61,column:3}}],line:59},'13':{loc:{start:{line:59,column:13},end:{line:59,column:42}},type:'binary-expr',locations:[{start:{line:59,column:13},end:{line:59,column:31}},{start:{line:59,column:35},end:{line:59,column:42}}],line:59},'14':{loc:{start:{line:63,column:2},end:{line:67,column:3}},type:'if',locations:[{start:{line:63,column:2},end:{line:67,column:3}},{start:{line:63,column:2},end:{line:67,column:3}}],line:63},'15':{loc:{start:{line:65,column:9},end:{line:67,column:3}},type:'if',locations:[{start:{line:65,column:9},end:{line:67,column:3}},{start:{line:65,column:9},end:{line:67,column:3}}],line:65},'16':{loc:{start:{line:69,column:2},end:{line:71,column:3}},type:'if',locations:[{start:{line:69,column:2},end:{line:71,column:3}},{start:{line:69,column:2},end:{line:71,column:3}}],line:69},'17':{loc:{start:{line:69,column:6},end:{line:69,column:30}},type:'binary-expr',locations:[{start:{line:69,column:6},end:{line:69,column:16}},{start:{line:69,column:20},end:{line:69,column:30}}],line:69}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0},f:{'0':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var assert=(++cov_21vnkaxeg0.s[0],require('assert'));var toNerfDart=(++cov_21vnkaxeg0.s[1],require('./nerf-dart.js'));++cov_21vnkaxeg0.s[2];module.exports=getCredentialsByURI;function getCredentialsByURI(uri){++cov_21vnkaxeg0.f[0];++cov_21vnkaxeg0.s[3];assert((++cov_21vnkaxeg0.b[0][0],uri)&&(++cov_21vnkaxeg0.b[0][1],typeof uri==='string'),'registry URL is required');var nerfed=(++cov_21vnkaxeg0.s[4],toNerfDart(uri));var defnerf=(++cov_21vnkaxeg0.s[5],toNerfDart(this.get('registry')));// hidden class micro-optimization
var c=(++cov_21vnkaxeg0.s[6],{scope:nerfed,token:undefined,password:undefined,username:undefined,email:undefined,auth:undefined,alwaysAuth:undefined});// used to override scope matching for tokens as well as legacy auth
++cov_21vnkaxeg0.s[7];if(this.get(nerfed+':always-auth')!==undefined){++cov_21vnkaxeg0.b[1][0];var val=(++cov_21vnkaxeg0.s[8],this.get(nerfed+':always-auth'));++cov_21vnkaxeg0.s[9];c.alwaysAuth=val==='false'?(++cov_21vnkaxeg0.b[2][0],false):(++cov_21vnkaxeg0.b[2][1],!!val);}else{++cov_21vnkaxeg0.b[1][1];++cov_21vnkaxeg0.s[10];if(this.get('always-auth')!==undefined){++cov_21vnkaxeg0.b[3][0];++cov_21vnkaxeg0.s[11];c.alwaysAuth=this.get('always-auth');}else{++cov_21vnkaxeg0.b[3][1];}}++cov_21vnkaxeg0.s[12];if(this.get(nerfed+':_authToken')){++cov_21vnkaxeg0.b[4][0];++cov_21vnkaxeg0.s[13];c.token=this.get(nerfed+':_authToken');// the bearer token is enough, don't confuse things
++cov_21vnkaxeg0.s[14];return c;}else{++cov_21vnkaxeg0.b[4][1];}// Handle the old-style _auth=<base64> style for the default
// registry, if set.
//
// XXX(isaacs): Remove when npm 1.4 is no longer relevant
var authDef=(++cov_21vnkaxeg0.s[15],this.get('_auth'));var userDef=(++cov_21vnkaxeg0.s[16],this.get('username'));var passDef=(++cov_21vnkaxeg0.s[17],this.get('_password'));++cov_21vnkaxeg0.s[18];if((++cov_21vnkaxeg0.b[6][0],authDef)&&(++cov_21vnkaxeg0.b[6][1],!((++cov_21vnkaxeg0.b[7][0],userDef)&&(++cov_21vnkaxeg0.b[7][1],passDef)))){++cov_21vnkaxeg0.b[5][0];++cov_21vnkaxeg0.s[19];authDef=new Buffer(authDef,'base64').toString();++cov_21vnkaxeg0.s[20];authDef=authDef.split(':');++cov_21vnkaxeg0.s[21];userDef=authDef.shift();++cov_21vnkaxeg0.s[22];passDef=authDef.join(':');}else{++cov_21vnkaxeg0.b[5][1];}++cov_21vnkaxeg0.s[23];if(this.get(nerfed+':_password')){++cov_21vnkaxeg0.b[8][0];++cov_21vnkaxeg0.s[24];c.password=new Buffer(this.get(nerfed+':_password'),'base64').toString('utf8');}else{++cov_21vnkaxeg0.b[8][1];++cov_21vnkaxeg0.s[25];if((++cov_21vnkaxeg0.b[10][0],nerfed===defnerf)&&(++cov_21vnkaxeg0.b[10][1],passDef)){++cov_21vnkaxeg0.b[9][0];++cov_21vnkaxeg0.s[26];c.password=passDef;}else{++cov_21vnkaxeg0.b[9][1];}}++cov_21vnkaxeg0.s[27];if(this.get(nerfed+':username')){++cov_21vnkaxeg0.b[11][0];++cov_21vnkaxeg0.s[28];c.username=this.get(nerfed+':username');}else{++cov_21vnkaxeg0.b[11][1];++cov_21vnkaxeg0.s[29];if((++cov_21vnkaxeg0.b[13][0],nerfed===defnerf)&&(++cov_21vnkaxeg0.b[13][1],userDef)){++cov_21vnkaxeg0.b[12][0];++cov_21vnkaxeg0.s[30];c.username=userDef;}else{++cov_21vnkaxeg0.b[12][1];}}++cov_21vnkaxeg0.s[31];if(this.get(nerfed+':email')){++cov_21vnkaxeg0.b[14][0];++cov_21vnkaxeg0.s[32];c.email=this.get(nerfed+':email');}else{++cov_21vnkaxeg0.b[14][1];++cov_21vnkaxeg0.s[33];if(this.get('email')){++cov_21vnkaxeg0.b[15][0];++cov_21vnkaxeg0.s[34];c.email=this.get('email');}else{++cov_21vnkaxeg0.b[15][1];}}++cov_21vnkaxeg0.s[35];if((++cov_21vnkaxeg0.b[17][0],c.username)&&(++cov_21vnkaxeg0.b[17][1],c.password)){++cov_21vnkaxeg0.b[16][0];++cov_21vnkaxeg0.s[36];c.auth=new Buffer(c.username+':'+c.password).toString('base64');}else{++cov_21vnkaxeg0.b[16][1];}++cov_21vnkaxeg0.s[37];return c;}